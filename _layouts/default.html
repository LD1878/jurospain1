---
layout: null
---
<!DOCTYPE html>
<html lang="{{ site.lang | default: 'en' }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>{{ page.title | default: site.title }} | {{ site.description }}</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}?v={{ site.time | date: '%s' }}">
    
    <script>
        // THEMES: Optimized for Trust, Authority & Readability
        const THEMES = [
            {
                name: 'spain-light',
                icon: '‚òÄÔ∏è',
                // Light Theme Variables
                '--bg-primary': '#fcfcfc',
                '--bg-secondary': '#ffffff',
                '--text-primary': '#232323',
                '--text-muted': '#666666', 
                '--border-light': '#e0e0e0',
                '--btn-text': '#ffffff',
                '--gold-color': '#FFC400' 
            },
            {
                name: 'legal-slate',
                icon: 'üåô', 
                // Dark Theme Variables
                '--bg-primary': '#0f172a', /* Slate 900 */
                '--bg-secondary': '#1e293b', /* Slate 800 */
                '--text-primary': '#f1f5f9', /* Slate 100 */
                '--text-muted': '#94a3b8',
                '--border-light': '#334155',
                '--btn-text': '#ffffff',
                '--gold-color': '#fbbf24' /* Amber 400 */
            },
            {
                name: 'navy-trust',
                icon: '‚öñÔ∏è', 
                // Deep Navy Theme
                '--bg-primary': '#0a192f',
                '--bg-secondary': '#112240',
                '--text-primary': '#e6f1ff',
                '--text-muted': '#8892b0',
                '--border-light': '#233554',
                '--btn-text': '#0a192f',
                '--gold-color': '#64ffda' /* Teal/Gold accent */
            },
            {
                name: 'paper-focus',
                icon: 'üìñ', 
                // Reading Focus Theme
                '--bg-primary': '#fdf6e3',
                '--bg-secondary': '#eee8d5',
                '--text-primary': '#2b2b2b',
                '--text-muted': '#586e75',
                '--border-light': '#d3cbb7',
                '--btn-text': '#ffffff',
                '--gold-color': '#b58900'
            }
        ];

        function applyTheme(themeName) {
            const root = document.documentElement;
            const theme = THEMES.find(t => t.name === themeName);
            if (!theme) return;

            // Apply all variables from the definition above
            for (const [key, value] of Object.entries(theme)) {
                if (key !== 'name' && key !== 'icon') {
                    root.style.setProperty(key, value);
                }
            }
            localStorage.setItem('theme-name', themeName);
            root.setAttribute('data-theme', themeName);
            
            // Update icon if element exists
            const iconEl = document.querySelector('.theme-icon');
            if (iconEl) {
                iconEl.textContent = theme.icon;
            }
        }

        // FOUC Prevention - Load stored theme immediately
        (function() {
            const storedThemeName = localStorage.getItem('theme-name') || 'spain-light';
            applyTheme(storedThemeName);
        })();
    </script>
    
    {% seo %}
</head>
<body>
    <header class="site-header">
        <div class="container">
            <a class="site-title" href="{{ '/' | relative_url }}">
                J<span class="text-highlight" style="color:var(--gold-color);">U</span>R<span class="text-highlight" style="color:var(--gold-color);">O</span> Spain
            </a>
            
            <button class="theme-toggle" aria-label="Cycle through color themes">
                <span class="theme-icon">‚òÄÔ∏è</span>
            </button>

            <button class="menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <nav class="site-nav">
                {% assign nav_pages = "Services|/services/,Pricing|/pricing/,About|/about/,Partners|/partners/,Blog|/blog/,Glossary|/glossary/,Contact|/contact/" | split: "," %}
                
                {% for entry in nav_pages %}
                    {% assign parts = entry | split: "|" %}
                    {% assign label = parts[0] %}
                    {% assign url = parts[1] | relative_url %}
                    <a href="{{ url }}" 
                       {% if page.url contains parts[1] %}aria-current="page"{% endif %}>
                       {{ label }}
                    </a>
                {% endfor %}
                
                <a href="https://app.cal.eu/jurospain/30min" class="btn" target="_blank" rel="noopener noreferrer">Book a Call</a>
            </nav>
        </div>
    </header>

    <main class="container">
        {{ content }}
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>JURO Spain</h3>
                    <p class="small">English-Speaking Legal Guidance for Expats in Spain.</p>
                </div>
                <div class="footer-section">
                    <h3>Services</h3>
                    <ul>
                        <li><a href="{{ '/services/' | relative_url }}">Immigration & Residency</a></li>
                        <li><a href="{{ '/services/' | relative_url }}">Property Transactions</a></li>
                        <li><a href="{{ '/services/' | relative_url }}">Banking Support</a></li>
                        <li><a href="{{ '/partners/' | relative_url }}">Partner Network</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Resources</h3>
                    <ul>
                        <li><a href="{{ '/blog/' | relative_url }}">Blog</a></li>
                        <li><a href="{{ '/glossary/' | relative_url }}">Glossary</a></li>
                        <li><a href="{{ '/pricing/' | relative_url }}">Pricing</a></li>
                        <li><a href="#">Guides</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Company</h3>
                    <ul>
                        <li><a href="{{ '/about/' | relative_url }}">About Us</a></li>
                        <li><a href="{{ '/contact/' | relative_url }}">Contact Us</a></li>
                        <li><a href="{{ '/privacy/' | relative_url }}">Privacy Policy</a></li>
                        <li><a href="#">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                &copy; {{ site.time | date: "%Y" }} JURO Spain. All rights reserved. <span class="small">Not a law firm.</span>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Cache DOM elements
            const els = {
                menuToggle: document.querySelector('.menu-toggle'),
                siteNav: document.querySelector('.site-nav'),
                header: document.querySelector('.site-header'),
                themeToggle: document.querySelector('.theme-toggle')
            };

            // 1. MOBILE MENU LOGIC (Robust & Accessible)
            if (els.menuToggle && els.siteNav) {
                const toggleMenu = (forceClose = false) => {
                    const isActive = els.menuToggle.classList.contains('active');
                    const shouldOpen = forceClose ? false : !isActive;
                    
                    els.menuToggle.classList.toggle('active', shouldOpen);
                    els.siteNav.classList.toggle('active', shouldOpen);
                    els.menuToggle.setAttribute('aria-expanded', shouldOpen);
                    document.body.style.overflow = shouldOpen ? 'hidden' : ''; 
                };

                els.menuToggle.addEventListener('click', () => toggleMenu());

                // Close when clicking outside
                document.addEventListener('click', (e) => {
                    if (els.siteNav.classList.contains('active') && 
                        !e.target.closest('.site-nav') && 
                        !e.target.closest('.menu-toggle')) {
                        toggleMenu(true);
                    }
                });

                // Close on Escape key
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && els.siteNav.classList.contains('active')) {
                        toggleMenu(true);
                    }
                });
            }

            // 2. HIGH-PERFORMANCE SCROLL (60fps Optimized)
            if (els.header) {
                let ticking = false;
                window.addEventListener('scroll', () => {
                    if (!ticking) {
                        window.requestAnimationFrame(() => {
                            els.header.classList.toggle('scrolled', window.scrollY > 20);
                            ticking = false;
                        });
                        ticking = true;
                    }
                }, { passive: true });
            }

            // 3. THEME TOGGLE LOGIC
            if (els.themeToggle && typeof THEMES !== 'undefined' && typeof applyTheme !== 'undefined') {
                els.themeToggle.addEventListener('click', () => {
                    const currentTheme = localStorage.getItem('theme-name') || THEMES[0].name;
                    const nextIndex = (THEMES.findIndex(t => t.name === currentTheme) + 1) % THEMES.length;
                    applyTheme(THEMES[nextIndex].name);
                });
            }
        });
    </script>
</body>
</html>
