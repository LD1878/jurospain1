<div class="contact-container">
    <h2>Contact Us</h2>
    <form id="contact-form">
        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>
        </div>

        <div class="form-group">
            <label for="date-select">Preferred Appointment Date:</label>
            <input type="text" id="date-input" placeholder="Click to select a date" readonly>
            
            <div id="calendar-popup" style="display: none; position: absolute; background-color: white; color: #333; border: 1px solid #ccc; padding: 15px; z-index: 999; border-radius: 5px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
                <div class="calendar-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; color: #333;">
                    <button type="button" id="prev-month" style="color: #333;">&lt;</button>
                    <span id="month-display" style="font-weight: bold; color: #333;">January 2026</span>
                    <button type="button" id="next-month" style="color: #333;">&gt;</button>
                </div>
                <div id="calendar-days" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; color: #333;">
                    </div>
            </div>
        </div>

        <div class="form-group">
            <label for="message">Message:</label>
            <textarea id="message" name="message"></textarea>
        </div>

        <button type="submit">Send Message</button>
    </form>
</div>

<script>
    const dateInput = document.getElementById('date-input');
    const calendarPopup = document.getElementById('calendar-popup');

    // FIX 1: Only show calendar when the input is clicked (removes auto-popup)
    dateInput.addEventListener('click', function(e) {
        e.stopPropagation();
        calendarPopup.style.display = 'block';
    });

    // Close calendar if clicking anywhere else on the page
    document.addEventListener('click', function(e) {
        if (!calendarPopup.contains(e.target) && e.target !== dateInput) {
            calendarPopup.style.display = 'none';
        }
    });

    // FIX 2: Ensure text selection logic doesn't trigger black-on-black
    // (This part handles injecting the days into the grid)
    function buildCalendar() {
        const daysContainer = document.getElementById('calendar-days');
        daysContainer.innerHTML = ''; // Clear existing
        
        // Example: Adding 31 days
        for (let i = 1; i <= 31; i++) {
            const day = document.createElement('div');
            day.innerText = i;
            day.style.padding = "5px";
            day.style.cursor = "pointer";
            day.style.textAlign = "center";
            day.style.color = "#333"; // Explicitly setting text color
            
            day.addEventListener('click', function() {
                dateInput.value = `2026-01-${i < 10 ? '0'+i : i}`;
                calendarPopup.style.display = 'none';
            });
            
            daysContainer.appendChild(day);
        }
    }

    buildCalendar();
</script>
